<form class="form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <label class="form-label" for="email">Email</label>
  <input
    class="form-input"
    type="email"
    id="email"
    name="email"
    [ngClass]="{
      error: formControls.email.invalid && formControls.email.touched
    }"
    placeholder="email@xyz.abc"
    formControlName="email"
    required />
  <span
    class="form-invalid-message"
    *ngIf="formControls.email.invalid && formControls.email.touched">
    Provide valid email.
  </span>
  <label class="form-label" for="nick">Nick</label>
  <input
    class="form-input"
    type="text"
    id="nick"
    formControlName="nickname"
    [ngClass]="{
      error: formControls.nickname.invalid && formControls.nickname.touched
    }"
    placeholder="john"
    required />
  <span
    class="form-invalid-message"
    *ngIf="nicknameLength === 0 && formControls.nickname.touched">
    Nickname is required.
  </span>
  <span
    class="form-invalid-message"
    *ngIf="
      formControls.nickname.invalid &&
      nicknameLength !== 0 &&
      formControls.nickname.touched
    ">
    Nickname has max 25 characters.
  </span>
  <label class="form-label" for="password">Password</label>
  <input
    class="form-input"
    type="password"
    placeholder="•••••••••"
    id="password"
    formControlName="password"
    [ngClass]="{
      error: formControls.password.invalid && formControls.password.touched
    }"
    required />
  <span
    class="form-invalid-message"
    *ngIf="
      formControls.password.invalid &&
      formControls.password.touched &&
      passwordLength !== 0
    ">
    Password should have at least 8 characters
  </span>
  <span
    class="form-invalid-message"
    *ngIf="passwordLength === 0 && formControls.password.touched">
    Password is required
  </span>

  <label class="form-label" for="confirm-password">Confirm password</label>
  <input
    class="form-input"
    type="password"
    placeholder="•••••••••"
    id="confirm-password"
    formControlName="confirmPassword"
    [ngClass]="{
      error:
        formControls.confirmPassword.invalid &&
        formControls.confirmPassword.touched
    }"
    required />
  <span
    class="form-invalid-message"
    *ngIf="confirmPasswordLength === 0 && formControls.confirmPassword.touched">
    Confirm password is required
  </span>
  <span
    class="form-invalid-message"
    *ngIf="formControls.confirmPassword.touched && formControls.confirmPassword.errors?.['passwordMismatch']">
    Passwords do not match
  </span>

  <span class="form-error-message" *ngIf="status === 'error'">
    {{ errorMessage }}
  </span>

  <button type="submit" class="button-global form-button">
    <span *ngIf="status !== 'loading'">Register</span>
    <span *ngIf="status === 'loading'">Loading...</span>
  </button>
</form>

<div class="toast" [ngClass]="{ show: showToast }">
  <span class="toast-message" *ngIf="status === 'ok'">
    Check your mailbox. We send you a email to verify!
  </span>
  <span class="toast-message" *ngIf="status === 'error'">
    {{ errorMessage }}
  </span>
  <button class="toast-button" type="button" (click)="closeToast()">X</button>
</div>
