<div class="button-wrapper">
  <button
    type="button"
    class="button-global"
    [ngClass]="{ active: tabName === 'add' }"
    (click)="changeTabName()">
    Add more
  </button>
  <button
    type="button"
    class="button-global"
    [ngClass]="{ active: tabName === 'peek' }"
    (click)="changeTabName()">
    All user in project
  </button>
</div>

<form
  class="form-global form"
  (ngSubmit)="onSubmit()"
  [formGroup]="form"
  *ngIf="tabName === 'add'; else peek">
  <p class="form-message">Find user by his email</p>
  <label class="form-label-global" for="email">Text</label>
  <input
    type="email"
    class="form-input-global"
    id="email"
    formControlName="email" />
  <p
    class="text-danger-global"
    *ngIf="(form.controls.email.touched || submitted) && form.controls.email.errors?.['required']">
    Name is required
  </p>
  <button class="button-global submit-button-global" type="submit">
    Search
  </button>
</form>
<div class="users-wrapper" *ngIf="tabName === 'add'">
  <div class="user" *ngFor="let user of users | async">
    <p>{{ user.email }}</p>
    <div>
      <button
        type="button"
        class="button-global user-button"
        (click)="onAddUser(user.userId)">
        Add
      </button>
    </div>
  </div>
</div>

<ng-template #peek>
  <p>Here will be list of users which are in this project</p>
  <div *ngFor="let user of projectUsers$ | async">
    {{ user.email }}
  </div>
</ng-template>
