<div class="container" *ngIf="selectedBoard$ | async as board">
  <ng-content select="app-mobile-navigation"></ng-content>
  <div class="board-name-wrapper">
    <div class="board-name">
      <h2>
        {{ board.name }}
      </h2>

      <app-context-menu [id]="board.id" [type]="'board'"></app-context-menu>
    </div>

    <div class="button-container">
      <app-open-form-button text="Users" type="user"></app-open-form-button>
      <app-open-form-button
        text="Tasks"
        type="see-tasks"></app-open-form-button>
      <app-open-form-button
        text="Profile"
        type="profile"></app-open-form-button>
      <app-logout-button></app-logout-button>
    </div>
  </div>
  <div class="buttons">
    <div class="add-button-container">
      <app-open-form-button
        [isProtected]="true"
        type="column"
        text="Add column"
        [parentId]="board.id"></app-open-form-button>

      <app-open-form-button
        [isProtected]="true"
        *ngIf="boardType === 'table'"
        type="task"
        text="Add task"
        [enableSelectColumnForTask]="true"></app-open-form-button>
    </div>

    <div *ngIf="isOwner$ | async"></div>
    <div class="extended-buttons">
      <select class="button-global button" [(ngModel)]="boardType">
        <option default value="kanban">Kanban</option>
        <option value="table">Table</option>
      </select>
      <app-open-form-button
        class="add-people-button-mobile"
        text="Users"
        type="user"></app-open-form-button>
      <select class="button-global button" [(ngModel)]="sortBy">
        <option default [value]="{ column: 'title', direction: 'asc' }" hidden>
          Title A-Z
        </option>
        <option [ngValue]="{ column: 'title', direction: 'asc' }">
          Title A-Z
        </option>
        <option [ngValue]="{ column: 'title', direction: 'des' }">
          Title Z-A
        </option>
        <option [ngValue]="{ column: 'updatedAt', direction: 'asc' }">
          UpdatedAt asc
        </option>
        <option [ngValue]="{ column: 'updatedAt', direction: 'des' }">
          UpdatedAt des
        </option>
        <option [ngValue]="{ column: 'createdAt', direction: 'asc' }">
          CreatedAt asc
        </option>
        <option [ngValue]="{ column: 'createdAt', direction: 'des' }">
          CreatedAt des
        </option>
      </select>
      <app-filter-menu
        [tags]="board | getTagsFromTasks"
        (selectedTags)="onSelectedTags($event)"></app-filter-menu>
      <input
        type="text"
        aria-label="search task by title"
        placeholder="Search by title"
        class="search-input"
        name="searchTerm"
        [(ngModel)]="searchTerm" />
    </div>
  </div>
</div>
<app-tasks
  [selectedBoard$]="selectedBoard$"
  [searchTerm]="searchTerm"
  [tags]="checkedTags"
  [sortBy]="sortBy"
  *ngIf="boardType === 'kanban'"></app-tasks>
<app-task-table
  [selectedBoard]="selectedBoard$"
  [searchTerm]="searchTerm"
  [tags]="checkedTags"
  [sortBy]="sortBy"
  *ngIf="boardType === 'table'"></app-task-table>
